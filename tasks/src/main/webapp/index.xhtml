<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<link rel="icon" type="imagem/png" href="resource/img/icon.png" />
	<link href="resource/css/bootstrap.min.css" rel="Stylesheet"
		type="text/css" />
	<title>Tasks</title>
</h:head>
<h:body>
	<div class="container">
		<h1 style="padding-top: 10px; text-align: center;">My List Tasks</h1>
		<hr />
		<h:form>
			<div class="form-group row">
				<label class="col-sm-2">Nome:</label>
				<div class="col-sm-10">
					<p:inputText type="text" class="form-control" placeholder="Nome"
						value="#{taskController.task.titulo}" required="true"></p:inputText>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-2">Categoria:</label>
				<div class="col-sm-10">
					<p:inputText type="text" class="form-control"
						placeholder="Categoria" value="#{taskController.task.descricao}"
						required="true"></p:inputText>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-sm-10">
					<p:commandButton value="Adicionar" type="submit"
						action="#{taskController.salvar}" icon="ui-icon ui-icon-disk"></p:commandButton>
				</div>
			</div>
		</h:form>
		<hr />
		<p:dataTable var="task" value="#{taskController.tasks}"
			resetValues="true" class="table" style="text-align:center;"
			editable="true">
			<p:column headerText="Nome">
		        #{task.titulo}
		    </p:column>
			<p:column headerText="Descrição">
		        #{task.descricao}
		    </p:column>
			<p:column headerText="Estado">
		       #{taskController.isAtiva(task.id)}
		    </p:column>
			<p:column headerText="Concluir/Apagar">
				<h:form>
					<p:commandButton action="#{taskController.concluir(task.id)}"
						style="margin-right:20px;" icon="ui-icon ui-icon-check "
						title="Concluir" />
					<p:commandButton action="#{taskController.apagar(task.id)}"
						style="margin-right:20px;" icon="ui-icon ui-icon-circle-close"
						title="Apagar" />
				</h:form>
			</p:column>
		</p:dataTable>
	</div>
	<script src="resource/js/bootstrap.min.js" type="text/javascript" />
	<script src="resource/js/jquery-3.3.1.min.js" type="text/javascript" />
</h:body>
</html>